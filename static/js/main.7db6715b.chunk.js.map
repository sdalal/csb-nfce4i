{"version":3,"sources":["ProductsTreeView.js","minus.gif","plus.gif","App.js","index.js"],"names":["StyledLI","styled","li","expanded","isLeaf","ProductsTreeView","id","setCurrentNode","this","props","Component","Node","description","key_id","linkpagename","isActive","nodes","xml","map","entity","attributes","descriptionText","children","findIndex","child","name","value","entities","filter","linkPageName","node","replace","push","forEach","XMLParser","parseFromString","TreeView","state","nodesFromXml","toggleNode","bind","onToggle","_toggleNode","currentNode","undefined","childNode","setState","React","TreeNode","activeChildren","length","onClick","event","stopPropagation","to","style","textDecoration","color","initialState","data","App","ExpandAll","CollapseAll","rootElement","document","getElementById","createRoot","render"],"mappings":"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","file":"static/js/main.7db6715b.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\n// import axios from \"axios\";\n\nimport XMLParser from \"react-xml-parser\";\n\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport plus from \"./plus.gif\";\nimport minus from \"./minus.gif\";\n\n// import tree from \"./tree.xml\";\n\nconst tree = `\n<?xml version=\"1.0\" standalone=\"yes\"?>\n\n<tree>\n\n       <entity id=\"e11\" key-id=\"1\" link-page-name=\"Add_Category\">\n\n              <description>Service</description>\n\n              <image>images/plus.gif</image>\n\n              <imageNode>images/de.gif</imageNode>\n\n              <imageOpen>images/minus.gif</imageOpen>\n\n              <entity id=\"e248\" key-id=\"48\" link-page-name=\"Edit_Category\">\n\n                     <description>A_test1_test1</description>\n\n                     <image>images/plus.gif</image>\n\n                     <imageNode>images/de.gif</imageNode>\n\n                     <imageOpen>images/minus.gif</imageOpen>\n\n                     <entity id=\"e3717\" key-id=\"717\" link-page-name=\"Edit_Product\">\n\n                           <description>A_SubItem1</description>\n\n                           <image>images/plus.gif</image>\n\n                           <imageNode>images/de.gif</imageNode>\n\n                           <imageOpen>images/minus.gif</imageOpen>\n\n                           <entity id=\"e45546\" key-id=\"5546\" link-page-name=\"Edit_ProdTemplate\">\n\n                                  <description>A_Test_Template</description>\n\n                                  <image>images/paper.gif</image>\n\n                                  <imageOpen>images/paper.gif</imageOpen>\n\n                           </entity>\n\n                     </entity>\n\n              </entity>\n\n              <entity id=\"e247\" key-id=\"47\" link-page-name=\"Edit_Category\">\n\n                     <description>A_test6</description>\n\n                     <image>images/plus.gif</image>\n\n                     <imageNode>images/de.gif</imageNode>\n\n                     <imageOpen>images/minus.gif</imageOpen>\n\n                     <entity id=\"e3716\" key-id=\"716\" link-page-name=\"Edit_Product\">\n\n                           <description>A_Item</description>\n\n                           <image>images/plus.gif</image>\n\n                           <imageNode>images/de.gif</imageNode>\n\n                           <imageOpen>images/minus.gif</imageOpen>\n\n                           <entity id=\"e45545\" key-id=\"5545\" link-page-name=\"Edit_ProdTemplate\">\n\n                                  <description>temp1</description>\n\n                                  <image>images/paper.gif</image>\n\n                                  <imageOpen>images/paper.gif</imageOpen>\n\n                           </entity>\n\n                     </entity>\n\n              </entity>\n\n \n\n       </entity>\n\n       <entity id=\"e12\" key-id=\"2\" link-page-name=\"Add_Category\">\n\n              <description>Sales</description>\n\n              <image>images/plus.gif</image>\n\n              <imageNode>images/de.gif</imageNode>\n\n              <imageOpen>images/minus.gif</imageOpen>\n\n              <entity id=\"e230\" key-id=\"30\" link-page-name=\"Edit_Category\">\n\n                     <description>Gift Cards</description>\n\n                     <image>images/plus.gif</image>\n\n                     <imageNode>images/de.gif</imageNode>\n\n                     <imageOpen>images/minus.gif</imageOpen>\n\n                     <entity id=\"e3421\" key-id=\"421\" link-page-name=\"Edit_Product\">\n\n                           <description>Sample Card</description>\n\n                           <image>images/plus.gif</image>\n\n                           <imageNode>images/de.gif</imageNode>\n\n                           <imageOpen>images/minus.gif</imageOpen>\n\n                           <entity id=\"e43308\" key-id=\"3308\" link-page-name=\"Edit_ProdTemplate\">\n\n                                  <description>greeting temp</description>\n\n                                  <image>images/paper.gif</image>\n\n                                  <imageOpen>images/paper.gif</imageOpen>\n\n                           </entity>\n\n                     </entity>\n\n                     <entity id=\"e3422\" key-id=\"422\" link-page-name=\"Edit_Product\">\n\n                           <description>De Card</description>\n\n                           <image>images/plus.gif</image>\n\n                           <imageNode>images/de.gif</imageNode>\n\n                           <imageOpen>images/minus.gif</imageOpen>\n\n                           <entity id=\"e43309\" key-id=\"3309\" link-page-name=\"Edit_ProdTemplate\">\n\n                                  <description>NS Temp</description>\n\n                                  <image>images/paper.gif</image>\n\n                                  <imageOpen>images/paper.gif</imageOpen>\n\n                           </entity>\n\n                     </entity>\n\n \n\n              </entity>\n\n              <entity id=\"e215\" key-id=\"15\" link-page-name=\"Edit_Category\">\n\n                     <description>Chck</description>\n\n                     <image>images/plus.gif</image>\n\n                     <imageNode>images/de.gif</imageNode>\n\n                     <imageOpen>images/minus.gif</imageOpen>\n\n                     <entity id=\"e3671\" key-id=\"671\" link-page-name=\"Edit_Product\">\n\n                           <description>Add item</description>\n\n                           <image>images/plus.gif</image>\n\n                           <imageNode>images/de.gif</imageNode>\n\n                           <imageOpen>images/minus.gif</imageOpen>\n\n                           <entity id=\"e45438\" key-id=\"5438\" link-page-name=\"Edit_ProdTemplate\">\n\n                                  <description>Ahhhh</description>\n\n                                  <image>images/paper.gif</image>\n\n                                  <imageOpen>images/paper.gif</imageOpen>\n\n                           </entity>\n\n                     </entity>\n\n                     <entity id=\"e3450\" key-id=\"450\" link-page-name=\"Edit_Product\">\n\n                           <description>Advtttt</description>\n\n                           <image>images/plus.gif</image>\n\n                           <imageNode>images/de.gif</imageNode>\n\n                           <imageOpen>images/minus.gif</imageOpen>\n\n                           <entity id=\"e43577\" key-id=\"3577\" link-page-name=\"Edit_ProdTemplate\">\n\n                                  <description>gggggg</description>\n\n                                  <image>images/paper.gif</image>\n\n                                  <imageOpen>images/paper.gif</imageOpen>\n\n                           </entity>\n\n                     </entity>\n\n              </entity>\n\n \n\n       </entity>\n\n</tree>\n`;\n\n/* ::marker {\n  content: url(${({ expanded, isLeaf }) =>\n    isLeaf ? paper : expanded ? minus : plus});\n} */\nconst StyledLI = styled.li`\n  ::marker {\n    ${({ expanded, isLeaf }) =>\n      isLeaf ? null : `content: url(${expanded ? minus : plus})};`};\n  }\n`;\n\n// console.log(tree)\n\nclass ProductsTreeView extends Component {\n  render() {\n    return (\n      <div id=\"TreeView\">\n        <TreeView setCurrentNode={this.props.setCurrentNode} />\n      </div>\n    );\n  }\n}\n\nclass Node {\n  description = \"n/a\";\n\n  id = -1;\n\n  key_id = -1;\n\n  linkpagename = \"\";\n\n  isActive = false;\n\n  nodes = [];\n\n  constructor(description, id, key_id, linkpagename) {\n    this.description = description;\n\n    this.id = id;\n\n    this.key_id = key_id;\n\n    this.linkpagename = linkpagename;\n  }\n\n  static nodesFromXml(xml) {\n    const map = (entity, nodes) => {\n      const id = entity.attributes[\"id\"];\n\n      const key_id = entity.attributes[\"key-id\"];\n\n      const descriptionText =\n        entity.children[\n          entity.children.findIndex((child) => child.name === \"description\")\n        ].value;\n\n      const entities = entity.children.filter(\n        (child) => child.name === \"entity\"\n      );\n\n      var linkPageName = entity.attributes[\"link-page-name\"];\n\n      linkPageName = linkPageName.replace(\".aspx\", \"\");\n\n      const node = new Node(descriptionText, id, key_id, linkPageName);\n\n      nodes.push(node);\n\n      entities.forEach((entity) => map(entity, node.nodes));\n    };\n\n    const parsedData = new XMLParser().parseFromString(xml);\n\n    const entities = parsedData.children.filter(\n      (child) => child.name === \"entity\"\n    );\n\n    const nodes = [];\n\n    entities.forEach((entity) => map(entity, nodes));\n\n    return nodes;\n  }\n}\n\nclass TreeView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      //  nodes: []\n      nodes: Node.nodesFromXml(tree)\n    };\n\n    this.toggleNode = this.toggleNode.bind(this);\n  }\n\n  componentDidMount() {\n    // axios\n    //   .get(tree, { \"Content-Type\": \"application/xml; charset=utf-8\" })\n    //   .then((response) =>{\n    //     console.log({ response })\n    //     // this.setState({ nodes: Node.nodesFromXml(response.data) })\n    //   })\n    //   .catch((error) => console.error(\"Error:\", error));\n  }\n\n  render() {\n    const { nodes } = this.state;\n\n    return (\n      <ul>\n        {nodes.map((node) => (\n          <TreeNode\n            id={node.id}\n            key={node.key_id}\n            node={node}\n            onToggle={this.toggleNode}\n            setCurrentNode={this.props.setCurrentNode}\n          />\n        ))}\n      </ul>\n    );\n  }\n\n  toggleNode(node) {\n    const { nodes } = this.state;\n    this.props.setCurrentNode(node);\n\n    function _toggleNode(currentNode, node, isActive) {\n      if (isActive !== undefined) {\n        currentNode.isActive = isActive;\n      } else if (currentNode.id === node.id) {\n        if (currentNode.key_id === node.key_id) {\n          currentNode.isActive = !currentNode.isActive;\n        }\n      }\n      currentNode.nodes.forEach((childNode) =>\n        _toggleNode(childNode, node, currentNode.isActive ? undefined : false)\n      );\n    }\n\n    nodes.forEach((currentNode) => _toggleNode(currentNode, node));\n\n    this.setState((state) => (state.nodes = nodes));\n  }\n}\n\nclass TreeNode extends React.Component {\n  // componentDidUpdate(prevProps) {\n  //   const { node } = this.props;\n  //   if (prevProps.node.isActive !== node.isActive && !node.isActive) {\n  //     node.nodes.foreach\n  //   }\n  // }\n\n  render() {\n    const { node, onToggle } = this.props;\n\n    const activeChildren =\n      node.isActive && node.nodes.length ? (\n        <ul>\n          {node.nodes.map((node) => (\n            <TreeNode\n              id={node.id}\n              key={node.key_id}\n              node={node}\n              onToggle={onToggle}\n            />\n          ))}\n        </ul>\n      ) : null;\n\n    return (\n      <StyledLI\n        id={node.id}\n        expanded={node.isActive}\n        isLeaf={!node.nodes.length}\n        linkpagename={node.linkpagename}\n        key={node.key_id}\n        onClick={(event) => {\n          event.stopPropagation();\n          onToggle(node);\n        }}\n      >\n        <Link\n          to={node.linkpagename}\n          style={{ textDecoration: \"none\", color: \"#000000\" }}\n        >\n          {node.description}\n        </Link>{\" \"}\n        - {node.key_id} - {node.linkpagename}\n        {activeChildren}\n      </StyledLI>\n    );\n  }\n}\n\nexport default ProductsTreeView;\n","export default \"data:image/gif;base64,R0lGODlhEAAUANUjALDC0/39+8G4p/z8+/f39Pf39fLy7vX18fb29NvWzNfSx8O6qvHw69zYz9bRxu3t59/b0sC3puTh2cK4qPDw7Ma+ruXh2tjTyfz8+tLMwOzr5vf28+rp48/Iu+Pg2dLMv3iYtQBmzP///////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAACMALAAAAAAQABQAAAZYwJFwSCwaj8ikcslsIgGgqBQEOIJE2KwIZB0EvgPMhmsEFQoEAoJhIRdBh5BcDnETQQbKQ8PxJOxDIBINFwoOGR2AQiAfFRMCAhELiiNQU1FVTpqbnJ1DQQA7\"","export default \"data:image/gif;base64,R0lGODlhEAAUANUhALDC0/39+8G4p/z8+/f39fX18ff39PLy7vf289LMwNvWzPDw7PHw6/z8+urp4+3t5/b29NbRxs/Iu+Pg2djTyd/b0sa+rtLMv8K4qOXh2uTh2cC3psO6qtzYz3iYtf///wBmzP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAACEALAAAAAAQABQAAAZZwJBwSCwaj8ikcslsIgGeqNQDOHo+2OzHYx0EAqBBA8E1eggEAwjCyJSLngJoPq+8iZ7D4gFyTBR3Qx4aHRQgEQkSgUIeFxYYAgIbHIshUFNRVU6bnJ2eQ0EAOw==\"","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ProductsTree from \"./ProductsTreeView\";\n\nconst initialState = {\n  currentNode: {},\n\n  data: \"\"\n};\n\nexport class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = initialState;\n\n    this.setCurrentNode = this.setCurrentNode.bind(this);\n  }\n\n  setCurrentNode(node) {\n    this.setState({ currentNode: node });\n  }\n\n  render() {\n    return (\n      <div>\n        <Link\n          onClick={() => {\n            this.ExpandAll();\n          }}\n        >\n          <b>Expand All</b>\n        </Link>{\" \"}\n        &nbsp;&nbsp;\n        <Link\n          onClick={() => {\n            this.CollapseAll();\n          }}\n        >\n          <b>Minimize All</b>\n        </Link>\n        <ProductsTree setCurrentNode={this.setCurrentNode} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </StrictMode>\n);\n"],"sourceRoot":""}